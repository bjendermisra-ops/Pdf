<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Emergency Fund Calculator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              primary: "#3B82F6",
              secondary: "#10B981",
              accent: "#6366F1",
              dark: "#1F2937",
              light: "#F9FAFB",
            },
          },
        },
      };
    </script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/tinymce/6.0.0/tinymce.min.js"
      integrity="sha512-XQOOk3AOZDpVgRcau6q9Nx/1eL0ATVVQ+3FQMn3uhMqfIwphM9rY6twWuCo7M69rZPdowOwuYXXT+uOU91ktLw=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
    <style>
      .slider {
        -webkit-appearance: none;
        width: 100%;
        height: 8px;
        border-radius: 5px;
        background: #d1d5db;
        outline: none;
      }
      .slider::-webkit-slider-thumb {
        -webkit-appearance: none;
        appearance: none;
        width: 22px;
        height: 22px;
        border-radius: 50%;
        background: #3b82f6;
        cursor: pointer;
        border: 2px solid white;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
      }
      .slider::-moz-range-thumb {
        width: 22px;
        height: 22px;
        border-radius: 50%;
        background: #3b82f6;
        cursor: pointer;
        border: 2px solid white;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
      }
      .progress-ring {
        transition: stroke-dashoffset 0.5s ease;
      }
    </style>
  </head>
  <body class="bg-gray-50 min-h-screen">
    <nav>
      <a href="/" class="back-button">
        <i class="fas fa-arrow-left"></i> Back to All Tools
      </a>
    </nav>

    <style>
      nav {
        display: flex;
        justify-content: flex-start;
        align-items: center;
        padding: 1rem 1.5rem;
        background-color: rgba(255, 255, 255, 0.95);
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1),
          0 2px 4px -1px rgba(0, 0, 0, 0.06);
      }

      .back-button {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        padding: 0.5rem 1rem;
        background: linear-gradient(135deg, #2563eb, #1d4ed8);
        border-radius: 9999px;
        color: white;
        font-weight: 500;
        text-decoration: none;
        transition: all 0.3s ease;
        box-shadow: 0 2px 6px rgba(37, 99, 235, 0.3);
      }

      .back-button i {
        font-size: 1rem;
      }

      .back-button:hover {
        background: linear-gradient(135deg, #1d4ed8, #1e40af);
        transform: translateX(-0.25rem);
        box-shadow: 0 4px 10px rgba(37, 99, 235, 0.4);
      }
    </style>

    <style>
      nav {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 1rem;
        background-color: rgba(255, 255, 255, 0.95);
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1),
          0 2px 4px -1px rgba(0, 0, 0, 0.06);
      }

      .logo-container {
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }

      .logo-icon {
        background: linear-gradient(135deg, #2563eb, #06b6d4);
        width: 36px;
        height: 36px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-size: 1.2rem;
      }

      .logo-text {
        font-size: 1.25rem;
        font-weight: bold;
        color: #1f2937; /* Dark gray for first part */
      }

      .logo-text-highlight {
        color: #6366f1; /* Indigo for second part */
      }

      .back-button {
        display: flex;
        align-items: center;
        gap: 0.25rem;
        padding: 0.25rem 0.75rem;
        background-color: #f3f4f6;
        border-radius: 9999px;
        color: #374151;
        font-weight: 500;
        transition: all 0.3s ease;
        text-decoration: none;
      }

      .back-button:hover {
        background-color: #2563eb;
        color: white;
        transform: translateX(-0.25rem);
      }
    </style>
    <div class="container mx-auto px-4 py-8">
      <!-- Header -->
      <header class="text-center mb-12">
        <h1 class="text-3xl md:text-4xl font-bold text-primary mb-3">
          Emergency Fund Calculator
        </h1>
        <p class="text-gray-600 max-w-2xl mx-auto">
          Calculate how much emergency fund you should maintain to protect
          yourself from financial uncertainties
        </p>
      </header>

      <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
        <!-- Input Form -->
        <div class="bg-white rounded-xl shadow-md p-6">
          <h2 class="text-xl font-semibold text-dark mb-6">
            Your Financial Details
          </h2>

          <form id="calculator-form" class="space-y-6">
            <div>
              <label
                for="monthly-expenses"
                class="block text-sm font-medium text-gray-700 mb-1"
                >Monthly Living Expenses (₹)</label
              >
              <input
                type="number"
                id="monthly-expenses"
                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary"
                placeholder="e.g., 30000"
                value="30000"
                min="0"
                required
              />
              <p class="text-xs text-gray-500 mt-1">
                Include rent, groceries, utilities, loan payments, etc.
              </p>
            </div>

            <div>
              <label
                for="income-stability"
                class="block text-sm font-medium text-gray-700 mb-1"
                >Income Stability</label
              >
              <select
                id="income-stability"
                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary"
              >
                <option value="stable">
                  Stable (Government Job, Tenured Position)
                </option>
                <option value="moderate" selected>
                  Moderate (Corporate Job with Good Prospects)
                </option>
                <option value="variable">
                  Variable (Freelance, Commission-based, Seasonal)
                </option>
                <option value="uncertain">
                  Uncertain (Startup, New Business)
                </option>
              </select>
            </div>

            <div>
              <label
                for="dependents"
                class="block text-sm font-medium text-gray-700 mb-1"
                >Number of Dependents</label
              >
              <input
                type="number"
                id="dependents"
                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary"
                value="1"
                min="0"
                max="10"
              />
            </div>

            <div>
              <label
                for="insurance"
                class="block text-sm font-medium text-gray-700 mb-1"
                >Health & Life Insurance Coverage</label
              >
              <select
                id="insurance"
                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary"
              >
                <option value="comprehensive">Comprehensive Coverage</option>
                <option value="adequate" selected>Adequate Coverage</option>
                <option value="partial">Partial Coverage</option>
                <option value="none">No Insurance</option>
              </select>
            </div>

            <div>
              <label
                for="savings"
                class="block text-sm font-medium text-gray-700 mb-1"
                >Current Emergency Savings (₹)</label
              >
              <input
                type="number"
                id="savings"
                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary"
                placeholder="e.g., 50000"
                value="50000"
                min="0"
              />
            </div>

            <div>
              <label
                for="risk-tolerance"
                class="block text-sm font-medium text-gray-700 mb-1"
                >Risk Tolerance</label
              >
              <input
                type="range"
                id="risk-tolerance"
                min="1"
                max="5"
                value="3"
                class="slider"
              />
              <div class="flex justify-between text-xs text-gray-500 mt-1">
                <span>Conservative</span>
                <span>Balanced</span>
                <span>Aggressive</span>
              </div>
            </div>

            <button
              type="submit"
              class="w-full bg-primary text-white py-3 px-4 rounded-lg hover:bg-blue-700 transition duration-300 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2"
            >
              Calculate Emergency Fund
            </button>
          </form>
        </div>

        <!-- Results Section -->
        <div class="bg-white rounded-xl shadow-md p-6">
          <h2 class="text-xl font-semibold text-dark mb-6">
            Your Emergency Fund Plan
          </h2>

          <div id="results" class="space-y-6">
            <div
              class="text-center py-12 text-gray-500"
              id="results-placeholder"
            >
              <i class="fas fa-shield-alt text-4xl mb-3"></i>
              <p>
                Enter your financial details to calculate your recommended
                emergency fund.
              </p>
            </div>

            <div id="results-content" class="hidden">
              <div class="flex justify-center mb-6">
                <div class="relative">
                  <svg width="200" height="200" viewBox="0 0 200 200">
                    <circle
                      cx="100"
                      cy="100"
                      r="85"
                      stroke="#E5E7EB"
                      stroke-width="12"
                      fill="none"
                    />
                    <circle
                      id="progress-ring"
                      cx="100"
                      cy="100"
                      r="85"
                      stroke="#10B981"
                      stroke-width="12"
                      fill="none"
                      stroke-dasharray="534"
                      stroke-dashoffset="534"
                      transform="rotate(-90 100 100)"
                    />
                    <text
                      x="100"
                      y="95"
                      text-anchor="middle"
                      class="text-2xl font-bold text-dark"
                      id="progress-percent"
                    >
                      0%
                    </text>
                    <text
                      x="100"
                      y="120"
                      text-anchor="middle"
                      class="text-sm text-gray-500"
                    >
                      Funded
                    </text>
                  </svg>
                </div>
              </div>

              <div class="grid grid-cols-2 gap-4">
                <div class="bg-blue-50 p-4 rounded-lg">
                  <p class="text-sm text-blue-600">Recommended Fund</p>
                  <p
                    class="text-xl font-bold text-blue-800"
                    id="recommended-fund"
                  >
                    ₹0
                  </p>
                </div>
                <div class="bg-green-50 p-4 rounded-lg">
                  <p class="text-sm text-green-600">Current Savings</p>
                  <p
                    class="text-xl font-bold text-green-800"
                    id="current-savings"
                  >
                    ₹0
                  </p>
                </div>
                <div class="bg-purple-50 p-4 rounded-lg">
                  <p class="text-sm text-purple-600">Months of Coverage</p>
                  <p
                    class="text-xl font-bold text-purple-800"
                    id="coverage-months"
                  >
                    0
                  </p>
                </div>
                <div class="bg-orange-50 p-4 rounded-lg">
                  <p class="text-sm text-orange-600">Additional Needed</p>
                  <p
                    class="text-xl font-bold text-orange-800"
                    id="additional-needed"
                  >
                    ₹0
                  </p>
                </div>
              </div>

              <div class="mt-8">
                <h3 class="text-lg font-medium text-dark mb-4">Savings Plan</h3>
                <div class="bg-gray-50 p-4 rounded-lg">
                  <div class="flex justify-between mb-2">
                    <span class="text-gray-600"
                      >To reach your goal in 6 months:</span
                    >
                    <span class="font-semibold" id="monthly-saving"
                      >₹0/month</span
                    >
                  </div>
                  <div class="flex justify-between">
                    <span class="text-gray-600"
                      >To reach your goal in 12 months:</span
                    >
                    <span class="font-semibold" id="yearly-saving"
                      >₹0/month</span
                    >
                  </div>
                </div>
              </div>

              <div class="mt-8">
                <h3 class="text-lg font-medium text-dark mb-4">
                  Recommendations
                </h3>
                <div class="bg-blue-50 p-4 rounded-lg">
                  <ul
                    class="list-disc pl-5 text-blue-700 space-y-2 text-sm"
                    id="recommendations"
                  >
                    <!-- Recommendations will be added here -->
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Information Section -->
      <div class="max-w-4xl mx-auto mt-12 bg-white rounded-xl shadow-md p-6">
        <h2 class="text-xl font-semibold text-dark mb-4">
          Why You Need an Emergency Fund
        </h2>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div class="bg-gray-50 p-4 rounded-lg">
            <div class="text-blue-600 text-xl mb-2">
              <i class="fas fa-house-damage"></i>
            </div>
            <h3 class="font-medium text-dark">Unexpected Expenses</h3>
            <p class="text-sm text-gray-600 mt-1">
              Medical emergencies, car repairs, or home maintenance can happen
              at any time.
            </p>
          </div>
          <div class="bg-gray-50 p-4 rounded-lg">
            <div class="text-blue-600 text-xl mb-2">
              <i class="fas fa-briefcase"></i>
            </div>
            <h3 class="font-medium text-dark">Job Loss</h3>
            <p class="text-sm text-gray-600 mt-1">
              Provides a financial cushion if you experience unexpected
              unemployment.
            </p>
          </div>
          <div class="bg-gray-50 p-4 rounded-lg">
            <div class="text-blue-600 text-xl mb-2">
              <i class="fas fa-peace"></i>
            </div>
            <h3 class="font-medium text-dark">Peace of Mind</h3>
            <p class="text-sm text-gray-600 mt-1">
              Reduces financial stress knowing you're prepared for unexpected
              situations.
            </p>
          </div>
          <div class="bg-gray-50 p-4 rounded-lg">
            <div class="text-blue-600 text-xl mb-2">
              <i class="fas fa-chart-line"></i>
            </div>
            <h3 class="font-medium text-dark">Avoid Debt</h3>
            <p class="text-sm text-gray-600 mt-1">
              Helps you avoid high-interest debt when unexpected expenses arise.
            </p>
          </div>
        </div>
      </div>
    </div>

    <script>
      // DOM Elements
      const form = document.getElementById("calculator-form");
      const monthlyExpensesInput = document.getElementById("monthly-expenses");
      const incomeStabilitySelect = document.getElementById("income-stability");
      const dependentsInput = document.getElementById("dependents");
      const insuranceSelect = document.getElementById("insurance");
      const savingsInput = document.getElementById("savings");
      const riskToleranceInput = document.getElementById("risk-tolerance");
      const resultsPlaceholder = document.getElementById("results-placeholder");
      const resultsContent = document.getElementById("results-content");
      const progressRing = document.getElementById("progress-ring");
      const progressPercent = document.getElementById("progress-percent");
      const recommendedFundElement =
        document.getElementById("recommended-fund");
      const currentSavingsElement = document.getElementById("current-savings");
      const coverageMonthsElement = document.getElementById("coverage-months");
      const additionalNeededElement =
        document.getElementById("additional-needed");
      const monthlySavingElement = document.getElementById("monthly-saving");
      const yearlySavingElement = document.getElementById("yearly-saving");
      const recommendationsElement = document.getElementById("recommendations");

      // Form submission handler
      form.addEventListener("submit", function (e) {
        e.preventDefault();
        calculateEmergencyFund();
      });

      // Input validation
      const numberInputs = document.querySelectorAll('input[type="number"]');
      numberInputs.forEach((input) => {
        input.addEventListener("input", function () {
          if (this.value < 0) this.value = 0;
        });
      });

      // Calculate emergency fund
      function calculateEmergencyFund() {
        // Get input values
        const monthlyExpenses = parseFloat(monthlyExpensesInput.value) || 0;
        const incomeStability = incomeStabilitySelect.value;
        const dependents = parseInt(dependentsInput.value) || 0;
        const insurance = insuranceSelect.value;
        const currentSavings = parseFloat(savingsInput.value) || 0;
        const riskTolerance = parseInt(riskToleranceInput.value);

        // Base recommended months based on income stability
        let baseMonths = 3;

        switch (incomeStability) {
          case "stable":
            baseMonths = 3;
            break;
          case "moderate":
            baseMonths = 4;
            break;
          case "variable":
            baseMonths = 6;
            break;
          case "uncertain":
            baseMonths = 8;
            break;
        }

        // Adjust for dependents
        baseMonths += dependents * 0.5;

        // Adjust for insurance coverage
        if (insurance === "partial") baseMonths += 1;
        if (insurance === "none") baseMonths += 2;

        // Adjust for risk tolerance
        baseMonths += riskTolerance - 3;

        // Ensure minimum of 3 months and maximum of 12 months
        baseMonths = Math.max(3, Math.min(12, baseMonths));

        // Calculate recommended fund
        const recommendedFund = monthlyExpenses * baseMonths;

        // Calculate additional needed
        const additionalNeeded = Math.max(0, recommendedFund - currentSavings);

        // Calculate percentage of goal reached
        const percentReached =
          recommendedFund > 0 ? (currentSavings / recommendedFund) * 100 : 0;
        const percentFormatted = Math.min(100, Math.round(percentReached));

        // Calculate savings plan
        const monthlySaving6 = additionalNeeded / 6;
        const monthlySaving12 = additionalNeeded / 12;

        // Update UI with results
        recommendedFundElement.textContent = `₹${formatCurrency(
          recommendedFund
        )}`;
        currentSavingsElement.textContent = `₹${formatCurrency(
          currentSavings
        )}`;
        coverageMonthsElement.textContent = `${baseMonths} months`;
        additionalNeededElement.textContent = `₹${formatCurrency(
          additionalNeeded
        )}`;
        monthlySavingElement.textContent = `₹${formatCurrency(monthlySaving6)}`;
        yearlySavingElement.textContent = `₹${formatCurrency(monthlySaving12)}`;
        progressPercent.textContent = `${percentFormatted}%`;

        // Update progress ring
        const circumference = 2 * Math.PI * 85;
        const offset = circumference - (percentFormatted / 100) * circumference;
        progressRing.style.strokeDasharray = `${circumference} ${circumference}`;
        progressRing.style.strokeDashoffset = offset;

        // Generate recommendations
        generateRecommendations(
          recommendedFund,
          currentSavings,
          baseMonths,
          insurance,
          incomeStability
        );

        // Show results and hide placeholder
        resultsPlaceholder.classList.add("hidden");
        resultsContent.classList.remove("hidden");
      }

      // Format currency for display
      function formatCurrency(amount) {
        if (amount >= 10000000) {
          return (amount / 10000000).toFixed(2) + " Cr";
        } else if (amount >= 100000) {
          return (amount / 100000).toFixed(2) + " L";
        } else if (amount >= 1000) {
          return (amount / 1000).toFixed(2) + " K";
        }
        return Math.round(amount).toLocaleString("en-IN");
      }

      // Generate personalized recommendations
      function generateRecommendations(
        recommendedFund,
        currentSavings,
        months,
        insurance,
        incomeStability
      ) {
        recommendationsElement.innerHTML = "";

        const recommendations = [];

        if (currentSavings < recommendedFund) {
          const shortfall = recommendedFund - currentSavings;
          recommendations.push(
            `Aim to save ₹${formatCurrency(
              shortfall
            )} to reach your emergency fund goal.`
          );

          if (shortfall > 50000) {
            recommendations.push(
              "Consider setting aside a portion of your income each month specifically for emergency savings."
            );
          }
        } else {
          recommendations.push(
            "Congratulations! You have adequate emergency savings. Consider investing additional funds for higher returns."
          );
        }

        if (insurance === "none" || insurance === "partial") {
          recommendations.push(
            "Consider improving your insurance coverage to reduce your emergency fund requirements."
          );
        }

        if (incomeStability === "variable" || incomeStability === "uncertain") {
          recommendations.push(
            "Since your income is less stable, try to save more than the recommended amount if possible."
          );
        }

        if (months >= 6) {
          recommendations.push(
            "With your longer recommended coverage period, consider keeping part of your emergency fund in a liquid fund for better returns."
          );
        } else {
          recommendations.push(
            "Keep your emergency fund in a savings account or liquid fund for immediate access when needed."
          );
        }

        recommendations.push(
          "Review and update your emergency fund annually or when your financial situation changes."
        );

        // Add recommendations to the list
        recommendations.forEach((rec) => {
          const li = document.createElement("li");
          li.textContent = rec;
          recommendationsElement.appendChild(li);
        });
      }

      // Calculate on page load with default values
      window.addEventListener("load", function () {
        calculateEmergencyFund();
      });
    </script>
  </body>
</html>